{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const pixabayApi = searchrequest =>\n  fetch(\n    `https://pixabay.com/api/?key=44369714-aeb99d27cdb76d6e65f8cf0da&q=${searchrequest}&image_type=photo`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n\nexport default pixabayApi;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst render = (pictures, placeForContent) => {\n  placeForContent.insertAdjacentHTML('beforeend', makeMarkUp(pictures));\n  simpleGallery.refresh();\n};\nexport default render;\n\nconst simpleGallery = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nsimpleGallery.on('error.simplelightbox', function (e) {\n  console.log(e);\n});\n\nfunction makeMarkUp(pictures) {\n  return pictures.reduce(\n    (\n      acc,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) =>\n      (acc += `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\" \n          alt=\"${tags}\"\n        />\n        <div class=\"picture-describe\">\n        <span><span class=\"title\">Likes</span>${likes}</span>\n        <span><span class=\"title\">Views</span>${views}</span>\n        <span><span class=\"title\">Comments</span>${comments}</span>\n        <span><span class=\"title\">Downloads</span>${downloads}</span>\n        </div>\n      </a>\n    </li>`),\n    ``\n  );\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport pixabayApi from './js/pixabay-api';\nimport render from './js/render-functions';\n\nconst gallery = document.querySelector('.gallery');\nconst errMessage = {\n  position: 'topRight',\n  theme: 'dark',\n  color: '#ef4040',\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n};\n\ndocument.querySelector('form').addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.classList.add('loader');\n  gallery.innerHTML = '';\n\n  pixabayApi(event.target.searchrequest.value)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error(errMessage);\n      } else {\n        render(hits, gallery);\n      }\n      gallery.classList.remove('loader');\n      event.target.reset();\n    })\n    .catch(error => {\n      gallery.classList.remove('loader');\n      gallery.innerHTML =\n        'Something went wrong. <br/>Please, check your connection and try again.';\n      console.error(error);\n      event.target.reset();\n    });\n});\n\nconst colorSwitcher = document.querySelector('.slide');\nif (colorSwitcher) {\n  colorSwitcher.addEventListener('click', e => {\n    document.body.classList.toggle('black');\n    document.body.firstElementChild.classList.toggle('black');\n    document.getElementById('searchrequest').classList.toggle('black');\n    e.target.firstElementChild.checked = !e.target.firstElementChild.checked;\n  });\n\n  setTimeout(() => {\n    colorSwitcher.style.opacity = '0.1';\n  }, 5000);\n}\n"],"names":["pixabayApi","searchrequest","response","render","pictures","placeForContent","makeMarkUp","simpleGallery","SimpleLightbox","e","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","errMessage","event","hits","iziToast","error","colorSwitcher"],"mappings":"6vBAAA,MAAMA,EAAaC,GACjB,MACE,qEAAqEA,CAAa,mBACtF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECLGC,EAAS,CAACC,EAAUC,IAAoB,CAC5CA,EAAgB,mBAAmB,YAAaC,EAAWF,CAAQ,CAAC,EACpEG,EAAc,QAAO,CACvB,EAGMA,EAAgB,IAAIC,EAAe,gBAAiB,CACxD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDD,EAAc,GAAG,uBAAwB,SAAUE,EAAG,CACpD,QAAQ,IAAIA,CAAC,CACf,CAAC,EAED,SAASH,EAAWF,EAAU,CAC5B,OAAOA,EAAS,OACd,CACEM,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAEvEP,GAAO;AAAA,sCACwBE,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA,gDAG2BC,CAAK;AAAA,gDACLC,CAAK;AAAA,mDACFC,CAAQ;AAAA,oDACPC,CAAS;AAAA;AAAA;AAAA,WAIzD,EACJ,CACA,CClCA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,CACjB,SAAU,WACV,MAAO,OACP,MAAO,UACP,QACE,0EACJ,EAEA,SAAS,cAAc,MAAM,EAAE,iBAAiB,SAAUC,GAAS,CACjEA,EAAM,eAAc,EACpBF,EAAQ,UAAU,IAAI,QAAQ,EAC9BA,EAAQ,UAAY,GAEpBlB,EAAWoB,EAAM,OAAO,cAAc,KAAK,EACxC,KAAK,CAAC,CAAE,KAAAC,KAAW,CACdA,EAAK,SAAW,EAClBC,EAAS,MAAMH,CAAU,EAEzBhB,EAAOkB,EAAMH,CAAO,EAEtBA,EAAQ,UAAU,OAAO,QAAQ,EACjCE,EAAM,OAAO,OACnB,CAAK,EACA,MAAMG,GAAS,CACdL,EAAQ,UAAU,OAAO,QAAQ,EACjCA,EAAQ,UACN,0EACF,QAAQ,MAAMK,CAAK,EACnBH,EAAM,OAAO,OACnB,CAAK,CACL,CAAC,EAED,MAAMI,EAAgB,SAAS,cAAc,QAAQ,EACjDA,IACFA,EAAc,iBAAiB,QAASf,GAAK,CAC3C,SAAS,KAAK,UAAU,OAAO,OAAO,EACtC,SAAS,KAAK,kBAAkB,UAAU,OAAO,OAAO,EACxD,SAAS,eAAe,eAAe,EAAE,UAAU,OAAO,OAAO,EACjEA,EAAE,OAAO,kBAAkB,QAAU,CAACA,EAAE,OAAO,kBAAkB,OACrE,CAAG,EAED,WAAW,IAAM,CACfe,EAAc,MAAM,QAAU,KAC/B,EAAE,GAAI"}